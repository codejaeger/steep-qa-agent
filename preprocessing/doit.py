from __future__ import print_function, division
import tensorflow as tf
from keras.backend.tensorflow_backend import set_session
config = tf.ConfigProto()
config.gpu_options.allow_growth = True
set_session(tf.Session(config=config))
import numpy as np
import pytesseract as pt
from keras.layers.core import Dense
from keras.models import Sequential
from keras.models import model_from_json
from keras.optimizers import sgd
from matplotlib import pyplot as plt

from Steep import Steep
from train import train
from test import test


def moving_average_diff(a, n=100):
    diff = np.diff(a)
    ret = np.cumsum(diff, dtype=float)
    ret[n:] = ret[n:] - ret[:-n]
    return ret[n - 1:] / n


hist = [2.081380208333333, 9.602213541666666, 14.612630208333334, 18.692057291666668, 27.150390625, 32.160807291666664, 37.061848958333336, 42.07226562500001, 50.73893229166668, 58.259765625000014, 61.34114583333335, 67.89322916666667, 73.4609375, 75.54329427083333, 84.87662760416666, 89.77766927083331, 95.34537760416664, 103.5120442708333, 109.07975260416663, 116.60058593749996, 121.50162760416661, 130.83496093749997, 136.40266927083331, 141.4130859375, 148.70475260416669, 157.16308593750003, 162.73079427083337, 168.2985026041667, 177.63183593750006, 182.2073567708334, 184.28971354166674, 190.35742187500009, 192.43977864583343, 194.52213541666677, 201.37630208333346, 207.9283854166668, 212.82942708333348, 217.83984375000017, 222.74088541666686, 227.78255208333354, 235.74088541666688, 237.82324218750023, 242.7242838541669, 248.6097005208336, 254.49511718750028, 262.2867838541669, 270.45345052083354, 275.46386718750017, 280.4742838541668, 286.4534505208334, 293.50553385416674, 295.58789062500006, 304.2545572916667, 309.1555989583333, 314.16601562499994, 323.49934895833326, 326.5807291666666, 331.1562499999999, 336.1979166666665, 343.98958333333314, 352.94791666666646, 361.4062499999998, 367.3854166666664, 374.30208333333303, 376.38444010416634, 381.45996093749966, 383.542317708333, 389.4277343749996, 398.2610677083329, 403.30273437499955, 408.87044270833286, 413.8808593749995, 420.7975260416661, 427.71419270833275, 435.73502604166606, 439.8144531249994, 447.106119791666, 455.77278645833263, 464.43945312499926, 467.5208333333326, 470.6022135416659, 476.5813802083325, 481.65690104166583, 483.73925781249915, 490.5934244791658, 497.4475911458324, 502.45800781249903, 506.53743489583235, 511.438476562499, 513.5208333333323, 518.4218749999991, 526.8802083333325, 528.9625651041658, 536.4833984374992, 546.9833984374992, 550.0647786458326, 559.398111979166, 564.2991536458327, 569.3095703124994, 573.3889973958328, 579.3681640624995, 587.1598307291663, 592.060872395833, 598.6129557291664, 603.1884765624998, 605.2708333333331, 614.6041666666665, 623.9374999999999, 631.4583333333333, 636.359375, 644.8177083333334, 652.8385416666667, 657.4140625000001, 664.4348958333335, 669.4453125000002, 675.9973958333336, 681.9765625000003, 687.0520833333337, 689.1344401041671, 691.2167968750005, 696.2272135416672, 701.7949218750006, 711.7949218750006, 713.8772786458339, 720.4293619791673, 726.221028645834, 731.2314453125008, 738.1481119791675, 745.0647786458343, 754.3981119791677, 761.918945312501, 767.4866536458344, 774.0387369791678, 781.8304036458345, 783.9127604166679, 790.4648437500013, 795.475260416668, 797.5576171875014, 802.4430338541681, 811.1097005208348, 817.1774088541682, 822.7451171875016, 833.2451171875016, 838.2555338541683, 845.7763671875017, 854.2347005208351, 861.7555338541684, 866.7972005208352, 874.5888671875019, 883.5472005208353, 888.1227213541687, 893.1331380208354, 899.9873046875022, 907.5081380208355, 912.5185546875023, 914.6009114583356, 921.4550781250024, 929.9134114583358, 932.9947916666691, 937.8958333333359, 946.3541666666692, 952.333333333336, 954.4156901041694, 962.8740234375027, 967.8844401041695, 972.9599609375028, 976.0354817708362, 983.5563151041696, 986.637695312503, 993.6585286458363, 1002.1168619791697, 1010.0751953125031, 1017.5960286458364, 1025.5543619791697, 1034.887695312503, 1041.9085286458362, 1043.9908854166695, 1050.845052083336, 1055.4205729166692, 1063.8789062500025, 1073.2122395833358, 1078.2539062500023, 1083.2643229166688, 1090.785156250002, 1095.7955729166686, 1102.3476562500018, 1110.305989583335, 1114.8815104166683, 1121.4335937500016, 1126.444010416668, 1130.5234375000014, 1138.0442708333346, 1143.0546875000011, 1148.6223958333344, 1155.539062500001, 1157.6214192708342, 1159.7037760416674, 1161.7861328125007, 1168.7027994791672, 1173.7132161458337, 1178.7236328125002, 1183.7340494791667, 1185.81640625, 1192.3684895833333, 1200.1601562499998, 1207.680989583333, 1213.7486979166663, 1222.2070312499995, 1225.2884114583328, 1232.5800781249993, 1239.4342447916658, 1246.3509114583323, 1248.4332682291656, 1256.3916015624989, 1262.4593098958321, 1269.0113932291654, 1277.4697265624986, 1285.928059895832, 1294.3863932291652, 1303.7197265624984, 1305.8020833333317, 1311.7812499999982, 1313.8626302083314, 1322.8209635416647, 1330.341796874998, 1336.2272135416645, 1338.3095703124977, 1343.3512369791642, 1349.4189453124975, 1356.335611979164, 1364.7939453124973, 1371.7106119791638, 1379.5022786458303, 1381.5846354166636, 1383.6669921874968, 1385.74934895833, 1392.3014322916633, 1398.2805989583298, 1406.738932291663, 1413.7597656249964, 1417.8391927083296, 1426.2975260416629, 1436.7975260416629, 1441.8079427083294, 1447.787109374996, 1449.8694661458292, 1459.8694661458292, 1469.8694661458292, 1476.4215494791624, 1484.8798828124957, 1491.7965494791622, 1498.8173828124955, 1507.2757161458287, 1514.5673828124952, 1521.1194661458285, 1527.098632812495, 1535.5569661458283, 1540.1324869791615, 1548.5908203124948, 1555.111653645828, 1560.6793619791613, 1567.9710286458278, 1573.538736979161, 1580.3929036458276, 1590.3929036458276, 1595.403320312494, 1602.9241536458273, 1610.4449869791606, 1618.4033203124939, 1623.9710286458271, 1630.8876953124936, 1642.3876953124936, 1648.939778645827, 1654.9189453124934, 1662.4397786458267, 1671.9397786458267, 1681.9397786458267, 1687.8251953124932, 1692.9007161458264, 1702.2340494791597, 1707.801757812493, 1710.8831380208262, 1717.4352213541595, 1724.4873046874927, 1731.508138020826, 1738.0602213541592, 1743.6279296874925, 1754.1279296874925, 1764.6279296874925, 1767.7034505208258, 1775.224283854159, 1783.6826171874923, 1793.6826171874923, 1798.2581380208255, 1805.174804687492, 1813.6331380208253, 1820.1852213541586, 1827.7060546874918, 1832.7164713541583, 1834.7978515624916, 1841.8186848958248, 1843.901041666658, 1845.9833984374914, 1854.4417317708246, 1864.4417317708246, 1873.7750651041579, 1880.3271484374911, 1888.1188151041576, 1896.577148437491, 1904.0979817708242, 1910.6500651041574, 1920.1500651041574, 1926.7021484374907, 1928.784505208324, 1933.8600260416572, 1943.1933593749905, 1951.1516927083237, 1960.6516927083237, 1966.5371093749902, 1971.5475260416567, 1977.5266927083233, 1983.0944010416565, 1992.5944010416565, 1999.1464843749898, 2007.104817708323, 2016.604817708323, 2021.4589843749895, 2028.0110677083228, 2035.531901041656, 2041.0996093749893, 2050.4329427083226, 2056.985026041656, 2065.651692708323, 2070.66210937499, 2076.641276041657, 2083.1933593749905, 2089.0787760416574, 2097.7454427083244, 2104.297526041658, 2110.8496093749914, 2115.425130208325, 2117.5074869791583, 2126.840820312492, 2131.4163411458253, 2137.968424479159, 2141.0498046874923, 2143.1311848958258, 2148.6988932291592, 2157.1572265624927, 2162.1676432291597, 2167.1780598958267, 2177.6780598958267, 2185.4697265624936, 2190.545247395827, 2197.0973307291606, 2201.672851562494, 2208.589518229161, 2215.1416015624945, 2220.1520182291615, 2225.1624348958285, 2233.620768229162, 2241.1416015624955, 2248.662434895829, 2254.2301432291624, 2260.782226562496, 2267.3343098958294, 2277.3343098958294, 2281.909830729163, 2288.4619140624964, 2295.98274739583, 2302.836914062497, 2311.2952473958303, 2319.0869140624973, 2328.4202473958308, 2334.9723307291642, 2344.4723307291642, 2352.9306640624977, 2361.763997395831, 2368.3160807291647, 2376.774414062498, 2384.2327473958317, 2392.691080729165, 2400.2119140624986, 2402.294270833332, 2407.304687499999, 2413.8567708333326, 2418.8984374999995, 2420.980794270833, 2425.8818359375, 2432.4339192708335, 2439.954752604167, 2448.4130859375005, 2450.495442708334, 2455.505859375001, 2461.5735677083344, 2471.5735677083344, 2480.906901041668, 2488.4277343750014, 2492.507161458335, 2502.507161458335, 2511.8404947916683, 2516.416015625002, 2525.916015625002, 2528.9973958333353, 2538.330729166669, 2544.8828125000023, 2554.2161458333358, 2562.6744791666692, 2570.1953125000027, 2577.716145833336, 2587.716145833336, 2595.2369791666697, 2601.304687500003, 2606.8723958333367, 2613.42447916667, 2620.9453125000036, 2630.9453125000036, 2639.403645833337, 2646.9244791666706, 2649.006835937504, 2654.048502604171, 2663.548502604171, 2669.1162109375045, 2676.637044270838, 2683.1891276041715, 2690.0432942708385, 2694.122721354172, 2698.6982421875055, 2706.219075520839, 2711.7867838541724, 2719.307617187506, 2728.6409505208394, 2736.3076171875064, 2744.76595052084, 2753.76595052084, 2760.7867838541733, 2768.307617187507, 2774.8597005208403, 2782.380533854174, 2787.2815755208408, 2793.8024088541742, 2799.3701171875077, 2805.3492838541747, 2813.807617187508, 2817.8831380208417, 2823.950846354175, 2833.950846354175, 2836.0332031250086, 2844.491536458342, 2852.9498697916756, 2857.525390625009, 2867.525390625009, 2873.504557291676, 2879.483723958343, 2886.33789062501, 2891.4134114583435, 2898.934244791677, 2908.934244791677, 2917.3925781250105, 2925.850911458344, 2933.8092447916774, 2938.8196614583444, 2944.7988281250114, 2950.866536458345, 2960.866536458345, 2965.908203125012, 2972.9290364583453, 2980.449869791679, 2988.4082031250123, 2996.1998697916792, 3001.7675781250127, 3011.2675781250127, 3018.788411458346, 3028.288411458346, 3035.8092447916797, 3045.142578125013, 3050.2180989583467, 3059.05143229168, 3067.5097656250136, 3076.843098958347, 3086.1764322916806, 3093.697265625014, 3099.676432291681, 3109.0097656250146, 3116.968098958348, 3119.0504557291815, 3125.0296223958485, 3127.111979166682, 3135.1328125000155, 3140.700520833349, 3150.700520833349, 3152.7828776041824, 3154.865234375016, 3160.8860677083494, 3168.844401041683, 3176.3652343750164, 3186.3652343750164, 3192.3444010416833, 3200.802734375017, 3208.3235677083503, 3218.8235677083503, 3226.6152343750173, 3234.1360677083508, 3240.1152343750177, 3242.197591145851, 3251.697591145851, 3253.7799479166847, 3255.862304687518, 3260.903971354185, 3268.4248046875186, 3273.4352213541856, 3279.4143880208526, 3287.872721354186, 3292.773763020853, 3302.773763020853, 3312.1070963541865, 3322.6070963541865, 3324.68945312502, 3329.2649739583535, 3334.2753906250205, 3336.356770833354, 3340.9322916666874, 3350.265625000021, 3360.265625000021, 3366.3333333333544, 3374.791666666688, 3384.791666666688, 3394.791666666688, 3396.8740234375214, 3403.7281901041883, 3411.249023437522, 3416.290690104189, 3419.3701171875223, 3421.4524739583558, 3427.4316406250227, 3430.513020833356, 3432.5953776041897, 3434.677734375023, 3442.1985677083567, 3444.28092447919, 3451.8017578125236, 3461.3017578125236, 3470.635091145857, 3478.1559244791906, 3485.676757812524, 3495.676757812524, 3505.0100911458576, 3513.468424479191, 3522.3017578125246, 3531.635091145858, 3541.635091145858, 3549.1559244791915, 3555.0413411458585, 3557.123697916692, 3566.4570312500255, 3574.915364583359, 3583.3736979166924, 3589.925781250026, 3594.967447916693, 3602.9257812500264, 3612.25911458336, 3622.75911458336, 3631.2174479166933, 3638.238281250027, 3642.8138020833603, 3647.8242187500273, 3657.1575520833608, 3664.6783854166943, 3674.1783854166943, 3680.157552083361, 3682.2389322916947, 3687.1399739583617, 3694.0566406250286, 3704.0566406250286, 3713.389973958362, 3715.4694010416956, 3723.927734375029, 3731.4485677083626, 3736.4589843750296, 3745.792317708363, 3753.3131510416965, 3759.86523437503, 3767.3860677083635, 3775.844401041697, 3783.8027343750305, 3793.136067708364, 3802.4694010416974, 3809.990234375031, 3817.5110677083644, 3825.3027343750314, 3832.2194010416983, 3840.677734375032, 3846.563151041699, 3851.6048177083658, 3860.9381510416993, 3868.8964843750327, 3877.354817708366, 3881.9303385416997, 3887.9095052083667, 3897.9095052083667, 3903.8886718750337, 3912.347005208367, 3920.8053385417006, 3929.8053385417006, 3937.326171875034, 3946.6595052083676, 3956.1595052083676, 3964.617838541701, 3966.7001953125346, 3968.781575520868, 3976.3024088542015, 3983.323242187535, 3988.333658854202, 3990.4160156250355, 3996.968098958369, 4004.9264322917024, 4010.9055989583694, 4012.987955729203, 4020.0087890625364, 4030.0087890625364, 4039.0087890625364, 4044.57649739587, 4051.5973307292033, 4059.3889973958703, 4066.909830729204, 4073.4619140625373, 4083.4619140625373, 4088.5035807292043, 4093.5791015625377, 4103.579101562538, 4108.154622395871, 4113.230143229204, 4121.688476562537, 4131.688476562537, 4138.542643229203, 4140.624023437536, 4150.124023437536, 4158.957356770869, 4168.957356770869, 4176.478190104202, 4184.9365234375355, 4190.9156901042015, 4192.998046875035, 4200.518880208368, 4208.039713541701, 4215.998046875034, 4218.080403645867, 4223.1559244792, 4230.676757812533, 4235.577799479199, 4242.598632812532, 4252.598632812532, 4262.098632812532, 4269.619466145865, 4277.140299479198, 4284.661132812531, 4290.640299479197, 4292.72265625003, 4299.274739583363, 4306.795572916696, 4314.316406250029, 4323.649739583362, 4325.732096354195, 4333.252929687528, 4335.335286458361, 4337.417643229194, 4339.500000000027, 4341.57942708336, 4347.147135416693, 4353.126302083359, 4360.647135416692, 4369.4804687500255, 4374.5221354166915, 4382.980468750025, 4392.980468750025, 4400.501302083358, 4410.001302083358, 4412.082682291691, 4420.541015625024, 4428.061848958357, 4437.561848958357, 4441.64127604169, 4448.557942708356, 4456.349609375022, 4460.429036458355, 4468.887369791688, 4476.408203125021, 4486.408203125021, 4494.866536458354, 4496.948893229187, 4504.740559895853, 4512.261393229186, 4519.782226562519, 4524.823893229185, 4532.344726562518, 4541.678059895851, 4550.344726562517, 4552.42708333335, 4560.593750000016, 4570.593750000016, 4580.593750000016, 4588.114583333349, 4594.666666666682, 4601.5208333333485, 4606.5729166666815, 4616.5729166666815, 4624.093750000015, 4630.072916666681, 4633.154296875014, 4638.05533854168, 4647.388671875013, 4649.470052083346, 4656.022135416679, 4663.980468750012, 4673.980468750012, 4676.062825520845, 4680.142252604178, 4682.223632812511, 4690.244466145844, 4692.326822916677, 4696.40625000001, 4705.739583333343, 4712.593750000009, 4721.927083333342, 4731.927083333342, 4739.718750000008, 4745.635416666674, 4753.156250000007, 4760.67708333334, 4765.687500000006, 4772.541666666672, 4782.041666666672, 4784.1240234375055, 4787.2054036458385, 4795.1637369791715, 4798.245117187505, 4800.326497395838, 4807.847330729171, 4812.888997395837, 4818.868164062503, 4824.435872395836, 4833.769205729169, 4841.060872395835, 4847.040039062501, 4856.373372395834, 4864.831705729167, 4871.685872395833, 4881.685872395833, 4889.477539062499, 4895.456705729165, 4900.498372395831, 4902.580729166664, 4911.914062499997, 4921.24739583333, 4928.768229166663, 4938.101562499996, 4945.622395833329, 4954.955729166662, 4962.476562499995, 4966.5559895833285, 4971.5976562499945, 4976.608072916661, 4982.587239583327, 4984.66959635416, 4994.002929687493, 5001.961263020826, 5011.294596354159, 5017.273763020825, 5022.841471354158, 5028.820638020824, 5036.61230468749, 5038.694661458323, 5046.215494791656, 5048.297851562489, 5056.756184895822, 5066.089518229155, 5071.068684895821, 5076.110351562487, 5081.152018229153, 5085.231445312486, 5087.313802083319, 5093.865885416652, 5100.7200520833185, 5109.5533854166515, 5116.5117187499845, 5124.032552083318, 5133.532552083318, 5138.574218749984, 5148.574218749984, 5157.407552083317, 5163.386718749983, 5170.907552083316, 5180.240885416649, 5186.792968749982, 5193.813802083315, 5201.334635416648, 5207.313802083314, 5209.395182291647, 5218.72851562498, 5226.686848958313, 5234.478515624979, 5243.978515624979, 5250.895182291645, 5256.962890624978, 5261.973307291644, 5268.431640624977, 5273.48372395831, 5281.48372395831, 5290.817057291643, 5297.369140624976, 5304.889973958309, 5314.889973958309, 5317.971354166642, 5325.492187499975, 5333.9505208333085, 5338.8359374999745, 5346.356770833308, 5348.439127604141, 5350.521484374974, 5358.542317708307, 5365.396484374973, 5372.854817708306, 5379.708984374972, 5385.729817708305, 5391.708984374971, 5396.784505208304, 5403.336588541637, 5413.336588541637, 5419.315755208303, 5424.357421874969, 5434.357421874969, 5444.357421874969, 5451.211588541635, 5458.732421874968, 5464.711588541634, 5474.044921874967, 5483.3782552083, 5492.8782552083, 5503.3782552083, 5510.430338541633, 5517.722005208299, 5523.701171874965, 5531.2220052082985, 5537.7740885416315, 5543.753255208298, 5549.544921874964, 5551.627278645797, 5554.70865885413, 5556.791015624963, 5558.873372395796, 5562.952799479129, 5572.286132812462, 5578.265299479128, 5586.723632812461, 5592.702799479127, 5602.202799479127, 5609.72363281246, 5615.744466145793, 5620.786132812459, 5628.306966145792, 5638.306966145792, 5645.161132812458, 5654.661132812458, 5660.640299479124, 5663.721679687457, 5670.575846354123, 5679.034179687456, 5686.555013020789, 5694.075846354122, 5699.1175130207885, 5706.9091796874545, 5714.430013020788, 5721.950846354121, 5729.971679687454, 5735.047200520787, 5740.088867187453, 5748.547200520786, 5757.005533854119, 5759.087890624952, 5768.421223958285, 5776.879557291618, 5781.455078124951, 5788.371744791617, 5790.45410156245, 5795.495768229116, 5802.349934895782, 5809.870768229115, 5815.756184895781, 5822.610351562447, 5824.69173177078, 5832.212565104113, 5839.733398437446, 5847.254231770779, 5854.545898437445, 5856.6282552082785, 5861.6699218749445, 5871.003255208278, 5878.524088541611, 5887.857421874944, 5895.378255208277, 5901.357421874943, 5911.357421874943, 5914.438802083276, 5921.355468749942, 5926.407552083275, 5932.959635416608, 5941.417968749941, 5946.459635416607, 5954.91796874994, 5964.41796874994, 5968.993489583273, 5978.326822916606, 5985.847656249939, 5988.929036458272, 5998.262369791605, 6000.344726562438, 6007.198893229104, 6014.719726562437, 6019.730143229103, 6028.188476562436, 6033.198893229102, 6038.2405598957685, 6045.7613932291015, 6054.2197265624345, 6059.261393229101, 6061.343749999934, 6068.864583333267, 6073.765624999933, 6078.666666666599, 6084.234374999932, 6094.234374999932, 6099.802083333265, 6109.802083333265, 6114.812499999931, 6122.333333333264, 6129.854166666597, 6131.93652343743, 6140.603190104096, 6146.582356770762, 6151.157877604095, 6154.239257812428, 6158.814778645761, 6168.148111979094, 6177.648111979094, 6182.65852864576, 6184.739908854093, 6193.198242187426, 6200.719075520759, 6209.677408854092, 6214.719075520758, 6221.5732421874245, 6226.583658854091, 6230.663085937424, 6239.663085937424, 6247.183919270757, 6255.14225260409, 6260.121419270756, 6269.454752604089, 6276.975585937422, 6286.308919270755, 6293.829752604088, 6300.850585937421, 6310.350585937421, 6317.871419270754, 6321.950846354087, 6330.40917968742, 6332.491536458253, 6338.512369791586, 6340.593749999919, 6346.572916666585, 6353.489583333251, 6357.569010416584, 6363.54817708325, 6369.527343749916, 6377.319010416582, 6383.871093749915, 6391.391927083248, 6398.9127604165815, 6404.8919270832475, 6413.725260416581, 6422.183593749914, 6431.516927083247, 6442.016927083247, 6447.996093749913, 6456.454427083246, 6460.533854166579, 6468.492187499912, 6478.492187499912, 6481.573567708245, 6490.031901041578, 6498.490234374911, 6505.406901041577, 6511.386067708243, 6519.177734374909, 6521.260091145742, 6524.341471354075, 6530.320638020741, 6538.112304687407, 6546.07063802074, 6552.049804687406, 6560.508138020739, 6569.841471354072, 6575.362304687405, 6582.883138020738, 6591.7164713540715, 6600.3831380207375, 6609.216471354071, 6614.226888020737, 6619.30240885407, 6627.760742187403, 6629.843098958236, 6635.728515624902, 6637.810872395735, 6639.893229166568, 6646.445312499901, 6654.903645833234, 6662.424479166567, 6672.924479166567, 6682.2578124999, 6688.809895833233, 6695.361979166566, 6701.341145833232, 6707.320312499898, 6715.778645833231, 6725.111979166564, 6732.632812499897, 6742.132812499897, 6744.21516927073, 6752.673502604063, 6759.694335937396, 6767.215169270729, 6771.790690104062, 6779.311523437395, 6783.379231770728, 6789.3583984373945, 6797.3167317707275, 6805.108398437394, 6811.08756510406, 6818.608398437393, 6821.689778645726, 6828.241861979059, 6835.762695312392, 6837.845052083225, 6842.886718749891, 6848.865885416557, 6858.19921874989, 6864.178385416556, 6873.678385416556, 6881.199218749889, 6888.490885416555, 6896.449218749888, 6898.530598958221, 6902.610026041554, 6908.58919270822, 6912.668619791553, 6914.750976562386, 6922.542643229052, 6933.042643229052, 6941.500976562385, 6951.000976562385, 6956.0426432290515, 6965.3759765623845, 6971.355143229051, 6977.907226562384, 6982.94889322905, 6987.028320312383, 6995.986653645716, 7001.965820312382, 7009.486653645715, 7017.944986979048, 7027.944986979048, 7035.465820312381, 7040.507486979047, 7048.02832031238, 7058.02832031238, 7063.596028645713, 7069.575195312379, 7072.656575520712, 7080.614908854045, 7088.406575520711, 7097.739908854044, 7104.760742187377, 7111.614908854043, 7118.635742187376, 7126.156575520709, 7132.708658854042, 7138.276367187375, 7147.609700520708, 7149.6920572915415, 7159.0253906248745, 7163.1048177082075, 7168.180338541541, 7175.701171874874, 7180.74283854154, 7187.597005208206, 7196.055338541539, 7204.513671874872, 7212.034505208205, 7219.555338541538, 7227.076171874871, 7235.909505208204, 7245.409505208204, 7255.409505208204, 7262.430338541537, 7271.26367187487, 7277.815755208203, 7284.367838541536, 7294.367838541536, 7296.450195312369, 7298.532552083202, 7303.574218749868, 7313.074218749868, 7321.532552083201, 7331.032552083201, 7340.365885416534, 7348.824218749867, 7356.3450520832, 7363.865885416533, 7373.199218749866, 7382.032552083199, 7391.532552083199, 7399.053385416532, 7406.074218749865, 7413.595052083198, 7421.1158854165315, 7429.1158854165315, 7439.6158854165315, 7449.1158854165315, 7454.1263020831975, 7461.147135416531, 7468.667968749864, 7476.188802083197, 7485.52213541653, 7487.604492187363, 7496.062825520696, 7503.583658854029, 7510.604492187362, 7518.125325520695, 7528.125325520695, 7537.458658854028, 7544.010742187361, 7553.510742187361, 7563.510742187361, 7573.510742187361, 7582.844075520694, 7590.364908854027, 7597.88574218736, 7606.719075520693, 7616.052408854026, 7623.573242187359, 7631.094075520692, 7641.094075520692, 7648.614908854025, 7656.135742187358, 7663.656575520691, 7671.177408854024, 7680.510742187357, 7688.302408854023, 7697.135742187356, 7703.114908854022, 7709.094075520688, 7718.594075520688, 7728.094075520688, 7738.094075520688, 7747.427408854021, 7752.3284505206875, 7757.4039713540205, 7764.258138020687, 7772.71647135402, 7781.549804687353, 7789.070638020686, 7796.591471354019, 7805.424804687352, 7813.883138020685, 7818.458658854018, 7823.312825520684, 7830.833658854017, 7836.812825520683, 7846.146158854016, 7853.666992187349, 7855.748372395682, 7861.727539062348, 7867.706705729014, 7876.165039062347, 7881.081705729013, 7887.060872395679, 7895.519205729012, 7901.586914062345, 7909.920247395678, 7917.441080729011, 7924.9619140623445, 7934.4619140623445, 7941.3785807290105, 7951.3785807290105, 7956.420247395677, 7963.94108072901, 7968.982747395676, 7971.064127604009, 7980.397460937342, 7986.949544270675, 7994.970377604008, 7997.052734374841, 8004.073567708174, 8009.641276041507, 8016.66210937484, 8025.995442708173, 8034.453776041506, 8041.974609374839, 8050.807942708172, 8059.641276041505, 8070.141276041505, 8077.662109374838, 8085.182942708171, 8095.182942708171, 8100.083984374837, 8102.16536458317, 8110.186197916503, 8112.268554687336, 8119.789388020669, 8123.868815104002, 8129.847981770668, 8137.806315104001, 8147.1396484373345, 8149.2220052081675, 8156.138671874834, 8162.690755208167, 8167.2662760415, 8169.348632812333, 8174.390299478999, 8181.911132812332, 8191.244466145665, 8197.223632812333, 8205.015299479, 8210.994466145668, 8218.515299479002, 8227.473632812336, 8229.55501302067, 8235.534179687338, 8244.867513020672, 8253.825846354006, 8262.65917968734, 8264.741536458174, 8266.823893229008, 8268.905273437342, 8275.75944010401, 8284.217773437344, 8292.009440104011, 8294.090820312345, 8301.61165364568, 8311.61165364568, 8319.132486979013, 8325.684570312347, 8332.538736979015, 8340.330403645683, 8342.412760416517, 8345.49414062485, 8354.827473958185, 8356.908854166519, 8364.867187499853, 8373.325520833187, 8380.179687499854, 8387.471354166522, 8395.929687499856, 8405.429687499856, 8407.51204427069, 8416.845377604024, 8426.845377604024, 8435.303710937358, 8442.220377604026, 8448.28808593736, 8458.28808593736, 8464.840169270694, 8471.694335937362, 8481.694335937362, 8489.215169270696, 8496.73600260403, 8503.756835937364, 8512.215169270698, 8519.736002604031, 8528.194335937365, 8534.079752604033, 8539.121419270701, 8548.621419270701, 8553.196940104035, 8562.696940104035, 8566.776367187369, 8568.857747395703, 8570.940104166537, 8580.440104166537, 8587.96093749987, 8592.040364583205, 8598.894531249873, 8606.18619791654, 8615.144531249874, 8620.123697916542, 8628.582031249876, 8638.582031249876, 8648.582031249876, 8650.66438802071, 8657.685221354044, 8664.539388020712, 8670.607096354046, 8677.62792968738, 8680.709309895714, 8686.688476562382, 8696.688476562382, 8703.54264322905, 8707.618164062384, 8713.685872395718, 8722.144205729051, 8724.226562499885, 8727.30794270822, 8732.349609374887, 8739.682942708221, 8749.682942708221, 8759.682942708221, 8768.141276041555, 8775.162109374889, 8782.182942708223, 8784.265299479057, 8792.72363281239, 8802.056966145725, 8804.139322916559, 8809.180989583227, 8814.222656249894, 8816.305013020728, 8823.825846354062, 8833.325846354062, 8840.846679687396, 8842.92903645823, 8847.970703124898, 8853.012369791566, 8858.0878906249, 8863.129557291568, 8868.171223958236, 8875.025390624904, 8880.035807291571, 8882.118164062405, 8892.118164062405, 8902.118164062405, 8907.128580729073, 8915.586914062407, 8925.586914062407, 8934.920247395741, 8942.441080729075, 8950.899414062409, 8955.753580729077, 8960.82910156241, 8968.349934895745, 8974.902018229079, 8980.469726562413, 8989.803059895747, 8994.87858072908, 9000.857747395748, 9009.816080729082, 9011.898437499916, 9017.91927083325, 9027.91927083325, 9035.440104166584, 9041.419270833252, 9049.877604166586, 9056.731770833254, 9061.807291666588, 9068.661458333256, 9076.61979166659, 9082.505208333258, 9088.072916666591, 9090.154296874925, 9098.61263020826, 9106.404296874927, 9114.862630208261, 9119.904296874929, 9129.237630208263, 9135.21679687493, 9144.550130208265, 9151.404296874933, 9158.456380208267, 9165.9772135416, 9175.4772135416, 9182.029296874935, 9192.029296874935, 9200.862630208268, 9210.362630208268, 9218.820963541602, 9225.67513020827, 9231.242838541604, 9235.818359374938, 9242.735026041606, 9252.735026041606, 9262.06835937494, 9269.589192708274, 9278.547526041608, 9280.629882812442, 9288.150716145776, 9294.129882812444, 9300.984049479111, 9308.504882812445, 9314.07259114578, 9321.864257812447, 9328.780924479115, 9333.822591145783, 9343.322591145783, 9351.343424479117, 9358.86425781245, 9367.697591145785, 9374.718424479119, 9380.697591145787, 9387.989257812455, 9393.968424479122, 9402.426757812456, 9408.405924479124, 9417.239257812458, 9422.249674479126, 9429.77050781246, 9439.77050781246, 9447.291341145794, 9455.749674479128, 9463.541341145796, 9469.520507812464, 9477.041341145798, 9479.120768229131, 9484.688476562465, 9487.7698567708, 9493.749023437467, 9501.269856770801, 9510.103190104135, 9514.678710937469, 9516.761067708303, 9521.80273437497, 9525.882161458305, 9534.340494791639, 9536.421874999973, 9538.504231770807, 9540.58658854164, 9545.628255208308, 9550.703776041642, 9558.224609374976, 9566.68294270831, 9574.203776041644, 9581.057942708312, 9589.516276041646, 9595.08398437498, 9605.08398437498, 9610.651692708314, 9618.172526041648, 9628.172526041648, 9633.740234374982, 9641.261067708316, 9647.240234374984, 9650.321614583318, 9657.842447916652, 9666.800781249985, 9676.13411458332, 9682.686197916653, 9686.765624999987, 9692.744791666655, 9698.723958333323, 9706.244791666657, 9716.244791666657, 9721.286458333325, 9729.078124999993, 9735.93229166666, 9744.890624999995, 9752.911458333328, 9761.369791666662, 9769.390624999996, 9771.47200520833, 9779.930338541664, 9784.972005208332, 9791.826171875, 9798.847005208334, 9805.867838541668, 9810.909505208336, 9818.43033854167, 9826.451171875004, 9831.492838541672, 9833.575195312505, 9838.616861979173, 9843.658528645841, 9845.740885416675, 9853.26171875001, 9860.115885416677, 9868.136718750011, 9872.216145833345, 9874.297526041679, 9881.318359375013, 9887.29752604168, 9894.151692708348, 9901.610026041682, 9910.943359375016, 9913.02473958335, 9918.003906250018, 9923.889322916686, 9932.34765625002, 9937.248697916688, 9945.707031250022, 9948.788411458356, 9953.830078125024, 9955.912434895858, 9957.994791666692, 9964.91145833336, 9972.869791666693, 9977.911458333361, 9982.95312500003, 9985.035481770863, 9992.056315104197, 10001.389648437531, 10007.368815104199, 10014.889648437533, 10022.410481770867, 10030.8688151042, 10039.327148437535, 10048.285481770869, 10055.139648437536, 10060.181315104204, 10062.263671875038, 10069.555338541706, 10074.13085937504, 10078.706380208374, 10083.781901041708, 10090.636067708376, 10099.09440104171, 10107.552734375044, 10114.469401041712, 10119.47981770838, 10121.562174479213, 10130.395507812547, 10137.916341145881, 10146.749674479215, 10154.27050781255, 10161.791341145883, 10168.812174479217, 10176.333007812551, 10183.853841145885, 10193.187174479219, 10200.708007812553, 10206.68717447922, 10213.239257812555, 10221.697591145889, 10230.155924479222, 10232.238281250056, 10236.31770833339, 10243.838541666724, 10249.406250000058, 10258.906250000058, 10266.697916666726, 10273.552083333394, 10282.010416666728, 10287.020833333396, 10295.04166666673, 10302.333333333398, 10310.791666666732, 10318.750000000065, 10324.729166666733, 10331.583333333401, 10338.43750000007, 10345.958333333403, 10353.750000000071, 10355.832356770905, 10360.407877604239, 10367.262044270907, 10369.34440104174, 10378.84440104174, 10382.923828125075, 10385.005208333409, 10392.526041666742, 10397.56770833341, 10403.546875000078, 10408.588541666746, 10414.473958333414, 10418.553385416748, 10423.595052083416, 10425.67643229175, 10430.251953125084, 10435.819661458418, 10440.830078125085, 10449.78841145842, 10456.642578125087, 10462.621744791755, 10471.45507812509, 10479.913411458423, 10488.371744791757, 10492.947265625091, 10499.863932291759, 10504.939453125093, 10514.439453125093, 10521.491536458427, 10528.54361979176, 10533.119140625095, 10537.694661458429, 10544.986328125096, 10551.902994791764, 10559.923828125098, 10566.777994791766, 10575.2363281251, 10583.027994791768, 10592.361328125102, 10597.929036458436, 10604.98111979177, 10613.439453125104]
plt.plot(moving_average_diff(hist))
plt.ylabel('Average of victories per game')
plt.show()